<!--
  Generated template for the FecharComandaPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Cerrar Comanda <strong>{{pedido_id}}</strong></ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <lottie-animation-view *ngIf="sucesso" [options]="lottieConfig" [width]="300" [height]="600">
  </lottie-animation-view>
  <ion-card *ngIf="!sucesso">

    <h2 class="total" text-center>TOTAL: <strong style="color: royalblue">
      {{total.toLocaleString('pt-br')}}</strong></h2>

    <ion-item>
      <ion-label floating>Forma de pago</ion-label>
      <ion-select cancelText="Cancelar" [(ngModel)]="tipo_pagamento">
        <ion-option *ngFor="let t of tiposPagamento" value="{{t.cod}}">{{t.nome}}</ion-option>
      </ion-select>
    </ion-item>

    <ion-item *ngIf="tipo_pagamento == '01'">
      <ion-label floating>Dinero recibido</ion-label>
      <ion-input type="number" [(ngModel)]="dinheiro_recebido"></ion-input>
    </ion-item>
    <br>
    <ion-item *ngIf="tipo_pagamento == '01'">
      <ion-label floating>Vuelto</ion-label>
      <ion-input type="text" [value]="dinheiro_recebido - total"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label floating>Observaci√≥n</ion-label>
      <ion-input type="text" [(ngModel)]="observacao"></ion-input>
    </ion-item>

    <br>
    <button [disabled]="!tipo_pagamento || (tipo_pagamento == '01' && dinheiro_recebido < total)" color="secondary" (click)="fechar()" ion-button full>Finalizar</button>
  </ion-card>
</ion-content>